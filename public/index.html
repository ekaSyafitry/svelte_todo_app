<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Svelte app</title>

	<link rel='icon' type='image/png' href='/favicon.png'>
	<link rel='stylesheet' href='./global.css'>
	<link rel='stylesheet' href='./build/bundle.css'>
	<link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet">
	<link rel='manifest' href='manifest.json'>
	

	<script defer src='./build/bundle.js'></script>
	<script src="https://www.gstatic.com/firebasejs/7.21.0/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.21.0/firebase-database.js"></script>
	<script>
		// Your web app's Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
		var firebaseConfig = {
		  apiKey: "AIzaSyCu-mkd53d_zjG-t2L_iEbbdSo328vdRPs",
		  authDomain: "todo-app-f0fbb.firebaseapp.com",
		  databaseURL: "https://todo-app-f0fbb.firebaseio.com",
		  projectId: "todo-app-f0fbb",
		  storageBucket: "todo-app-f0fbb.appspot.com",
		  messagingSenderId: "523414125327",
		  appId: "1:523414125327:web:1a248a8ff599c92234dc7a",
		  measurementId: "G-SQE8C7JJ3W"
		};
		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);
		// firebase.analytics();
	</script>
</head>

<body>
	<script>
		if ('serviceWorker' in navigator){
			navigator.serviceWorker.register('./sw.js', {scope: '/'}).then(function(registration){
				console.log('ServiceWorker registration succesfull with scope:', registration.scope);
			}).catch(function(error){
				console.log('ServiceWorker registration failed:', error);
			})
		}
		else{
			console.log('ServiceWorker not supported');
		}

		// let promptInstall = null
		window.addEventListener('beforeinstallprompt', function(event){
			// showInstallPrompt(event)
			console.log('before add to home screen');
			event.preventDefault();
			// promptInstall = event;
			return false;
		});

		// window.addEventListener('appinstalled', (evt) => {
		// // Log install to analytics
		// console.log('INSTALL: Success', evt);
		// });	
	</script>
</body>
</html>
